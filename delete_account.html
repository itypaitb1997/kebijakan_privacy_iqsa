<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hapus Akun - Iqsa</title>
  <style>
    :root{--bg:#f7f9fc;--card:#fff;--accent:#d9534f;--muted:#6c757d}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial,sans-serif;background:var(--bg);margin:0;padding:32px;display:flex;align-items:center;justify-content:center;min-height:100vh}
    .card{background:var(--card);padding:24px;border-radius:8px;box-shadow:0 6px 18px rgba(20,20,40,0.08);max-width:520px;width:100%}
    h1{margin:0 0 8px;font-size:20px}
    p{margin:0 0 16px;color:var(--muted)}
    .email{font-weight:600;margin-bottom:16px}
    .note{font-size:13px;color:var(--muted);margin-bottom:18px}
    .actions{display:flex;gap:8px}
    button{padding:10px 14px;border-radius:6px;border:0;cursor:pointer}
    .btn-delete{background:var(--accent);color:#fff}
    .btn-cancel{background:#e9ecef;color:#212529}
    .danger{color:var(--accent);font-weight:600}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Hapus Akun</h1>
    <p>Halaman ini akan menghapus akun terkait. Pastikan alamat email yang ditampilkan sudah benar.</p>

    <div class="email">it@istiqamahypaitb.sch.id</div>
    <div class="note">Dengan menekan tombol "Hapus Akun", semua data akun yang terkait dengan alamat email di atas akan dihapus sesuai kebijakan privasi. Tindakan ini tidak dapat dibatalkan.</div>

    <form id="deleteForm" action="/delete-account" method="POST">
      <input type="hidden" name="email" value="it@istiqamahypaitb.sch.id" />
      <div class="actions">
        <button type="button" class="btn-cancel" id="cancelBtn">Batal</button>
        <button type="submit" class="btn-delete" id="deleteBtn">Konfirmasi Hapus Akun</button>
      </div>
    </form>

    <script>
      (function(){
        var form = document.getElementById('deleteForm');
        var deleteBtn = document.getElementById('deleteBtn');
        var cancelBtn = document.getElementById('cancelBtn');

        cancelBtn.addEventListener('click', function(){
          // Jika ingin kembali ke halaman sebelumnya, gunakan history.back();
          history.back();
        });

        form.addEventListener('submit', function(e){
          // Jika situs ini tidak memiliki backend untuk menerima POST, cegah default dan tunjukkan pesan konfirmasi.
          // Jika ada backend, hapus blok berikut sehingga form dikirimkan ke server.
          e.preventDefault();

          var confirmed = confirm('Apakah Anda yakin ingin menghapus akun yang terkait dengan it@istiqamahypaitb.sch.id? Tindakan ini tidak dapat dibatalkan.');
          if(!confirmed) return;

          // Simulasi pengiriman: tampilkan status ke pengguna.
          deleteBtn.disabled = true;
          deleteBtn.textContent = 'Sedang menghapus...';

          // Di lingkungan nyata, lakukan fetch POST ke endpoint penghapusan.
          setTimeout(function(){
            alert('Permintaan penghapusan telah dikirim. Jika ada backend, proses penghapusan akan dilanjutkan.');
            deleteBtn.textContent = 'Terkirim';
          }, 900);
        });
      })();
    </script>
  </main>
</body>
</html>